<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AppGLucosa - Estadísticas</title>
  <link rel="stylesheet" href="../node_modules/@fortawesome/fontawesome-free/css/all.min.css">
  <link rel="stylesheet" href="../styles/estadisticas.css">
  <link rel="stylesheet" href="../styles/general.css">
  <script src="../scripts/estadisticas.js" defer></script>
</head>
<body>
  <div class="sidebar">
    <div class="logo-section">
      <div class="logo"><i class="fas fa-heartbeat"></i></div>
      <h2>AppGLucosa</h2>
    </div>
    <ul class="nav-menu">
      <li class="nav-item"><i class="fas fa-home"></i><a href="./dashboard.html">Dashboard</a></li>
      <li class="nav-item active"><i class="fas fa-chart-line"></i><a href="./estadisticas.html">Estadísticas</a></li>
      <li class="nav-item"><i class="fas fa-utensils"></i><a href="./nutricion.html">Nutrición</a></li>
      <li class="nav-item"><i class="fas fa-file-pdf"></i><a href="./reportes.html">Reportes</a></li>
      
    </ul>
  </div>

  <div class="main-content">
    <div class="header">
      <div class="header-title">
        <h1>Estadísticas Avanzadas</h1>
        <p>Análisis detallado de tus datos</p>
      </div>
    </div>

    <div class="time-filter">
      <div class="filter-group">
        <select id="timeRange">
          <option>Últimos 7 días</option>
          <option>Últimos 30 días</option>
        </select>
      </div>
    </div>

    <div class="dashboard-grid">

      <div class="card glucose-chart">
        <div class="card-header">
          <h3 class="card-title">Tendencias Glucémicas</h3>
          <i class="card-icon fas fa-chart-line"></i>
        </div>
        <canvas id="mainChart"></canvas>
        <p style="font-weight: bolder;">Tendencia glucemica media diaria</p>
      </div>

      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Resumen Estadístico</h3>
          <i class="card-icon fas fa-calculator"></i>
        </div>
        <div class="stats-summary">
          <div class="stat-box">
            <div id="meanValue" class="stat-value">0 mg/dL</div>
            <div>Media Diaria</div>
          </div>
          <div class="stat-box">
            <div id="hba1cValue" class="stat-value">0 %</div>
            <div>HbA1c Estimado</div>
          </div>
          <div class="stat-box">
            <div id="cvValue" class="stat-value">0 %</div>
            <div>Variabilidad</div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Distribución de Valores</h3>
          <i class="card-icon fas fa-chart-pie"></i>
        </div>
        <canvas id="distributionChart"></canvas>
      </div>

      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Últimos Registros</h3>
          <i class="card-icon fas fa-list"></i>
        </div>
        <table>
          <thead>
            <tr>
              <th>Fecha</th>
              <th>Valor</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody id="lastRecordsBody">
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
